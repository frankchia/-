商业楼宇租赁运营平台系统设计架构清单
一、设置管理（只有系统管理员有权限）
1.内部权限管理模块（优先级--1）
1.1 组织架构管理：
分为控股公司和项目公司（项目名称）
控股公司人员按职权和部门划分不同角色：高管、财务、运管部、风控中心；
项目公司人员按职权和职能划分不同角色：主任、客服、财务等，细化不同角色的功能访问权限
1.2 角色和用户管理:
不同角色用户的注册、登录、授权，与企业微信对接。配置上述注册用户的角色。此外，需要有系统管理员的角色来管理其它用户角色。

2.资源管理（数据标签）
资源标签、资源列表、资源表单模板
3.合同管理
合同到期提醒、合同打印模板、合同模板、合同标签：必选标签（新租、招商、物业、续租、违约、扩租）、合同表单字段
4.收付款管理
费用类型、通知单、流水管理、收付款限制、收入确认原则
5.审批流程管理
合同审批流程、调整审批流程
6.数据配置管理
房源数据配置、在租统计范围 、房源标签、楼宇统计展示数据
7.消息配置管理
审批通知、提醒设置


二、空间管理模块（优先级--1）
集合管理：
规则：集合包括多个项目
基本信息：集合名称
项目管理：
创建项目：项目名称（按字母顺序自动排序）、项目位置、项目外观图片、项目面积（不要手动填写，由项目所含楼宇面积自动累加生成）、启动时间（由此时间开始计算项目的各种数据）
规则：只有管理员有权限新建项目；一个项目可以选择多个楼宇

项目列表

项目楼宇管理：
规则：只有管理员有权限新建楼宇（包括层数）；一个楼宇包含多层和多个房间
创建楼宇：楼宇名称（按字母顺序自动排序）、楼宇外观图片、楼宇面积（不要手动填写，由楼宇所含房源面积自动累加生成）、启动时间（由此时间开始计算楼宇的各种数据）、楼宇分为地上房源、地下房源两部分、楼宇层数

楼宇信息：在楼宇列表中选择楼宇
新建楼宇
基本信息：楼宇名称、具体位置、总建筑面积、楼宇图片
楼宇标签：选择自定义配置标签（结合设置中心-自定义管理-楼宇标签功能使用）
自定义字段：按需填写配置好的自定义字段库（结合设置中心-表单管理-自定义字段库-楼宇功能使用）
附件：可上传/下载关于此楼宇的相关文件，单个文件大小不超过100M，数量不限
楼层编辑：添加楼宇中的相关楼层
新增楼层：单层新增：输入楼层名称；多层新增：填写起始楼层（起始楼层仅支持数字格式）。房源数量根据该楼宇的相关房源计算得出，不可编辑
编辑楼宇：
可编辑字段：基本信息、楼宇标签、自定义字段、楼层编辑等都可以编辑。
删除楼层
规则：有楼宇编辑权限的才可以编辑；楼层删除，对应楼层的房源、工位信息也会同步删除。


楼宇列表：
列表内容：根据楼宇选择器展示楼宇的相关信息。
列表字段自定义：可设置楼宇列表中的展示数据，以及展示顺序。
列表显示形式：列表、卡片、地图。
查询和快捷筛选：满足查询和筛选条件的，高亮显示，不满足条件的房源置灰，支持按房号搜索房源；支持按面积筛选、审核状态、合同期限、行业筛选、招商选项、空置选项等不同纬度筛选；

房间管理:
创建房源：录入房间号、面积、类型等信息
规则：房间创建下放到使用者，比如客服。
房源类型（面积、工位）、所属楼层、房间号（需要注意房源编号，例如A1栋101室编号为101，系统导出数据时自动生成房间A1-101）、房源面积（工位面积按照实际面积与工位数量进行平均分配）、房源状态（空置、已出租、自用）（除自用面积外房源有正在执行合同显示已出租、无正在执行合同自动显示为空置）
即将空出房源（到期不续、提前违约）
其他内容：
房间备注栏里可以输入文字、图文等。房屋移交确认书、合同及附件等是必选项，但这些放入合同管理模块。
归档合同的房间可删除，但是合同相关内容要留存下来。
空置房间如果发生拆分或合并等调整，新的时间为空间调整后的新房间开始时间，也是旧房的终止时间。
房源地图管理:
构建楼宇、楼层的数字化地图
现软件是简单的剖面图，楼宇有几层，每层有几个房间，房间面积；房源展示顺序按照房源编号序列。
一个房源一个色块，同一楼层内，色块大小根据房源面积按比例展示（最小限定值）。每一色块上展示该房源内房间号、客户名称、面积、到期时间，以色块颜色区分合同到期时间（到期3个月以内红色、3-6浅红、6个月以上到期粉色、空置蓝色、自用绿色）。
项目信息：列表中展示所有项目的相关信息
自定义展示设置：设置项目列表中数据展示内容，以及展示顺序
点击后，满足房源高亮，其他房源置灰

相关算法：
管理面积算法：
管理面积：所有空间属性为房源的房间面积之和（包括可出租面积和自用面积）。
可出租面积：所用可用于出租产生收入的面积，包括面积和工位；
单个工位面积计算算法：房间面积除以本房间工位总数。

自用面积：自己使用不产生收入的面积（包括办公、会所、茶馆、剧场等，不包括设备用房）。
出租率：当前出租的房间面积在总可出租房源面积中的占比
在租实时均价（元/平方米/天）：对所有在租的合同单价加权计算得出平均值，并按设定好的单位展示
在租实时均价分为含税价和不含税价（税率在设置里由人工输入，对所有房间适用）？是否随年度变化。
当前计租率 = ∑（计租时长面积 ）/总时长总面积
即【（房源1面积（其中含整个房间出租或工位出租面积）*房源1计租天数）+（房源2面积*房源2计租天数）+……+（房源n面积*房源n计租天数）】/（总房源面积*总时长）。计租时长不包括空置期、免租期、租金减免。
在租实时均价：对所有在租的合同单价加权计算得出平均值，并按设定好的单位展示。
当统计维度选择房源时，对所有租赁合同的单价与面积进行加权平均计算，并按设定的单位展示。
例：A房源面积为m（平方米）单价为x，B房源面积为n（平方米）单价为y，那么在租实时均价=（m * x + n * y）/(m + n)。
当统计维度选择工位时，对所有租赁合同的单价与工位进行加权平均计算，并按设定的单位展示。
均价统计中要有含税和不含税两个选项：可招商面积 / 可招商工位数量。

三、合同管理模块（优先级--1）
合同模板:
提供标准租赁合同模板
张春成添加的内容：
合同管理:
生成、签署、录入租赁合同
新建合同
定义：业务流程中与租户谈好签约事项后，在系统中操作新建合同，生成标准合同文件用于最终签约。
操作位置：系统左侧菜单中点击合同管理--合同列表，右上角点击 “ + 合同 ” 蓝色按钮即进入新建合同页面
操作注意事项：
新建合同要有必须的选择1：招商或物业成交。
新建合同要有必须的选择2: 新租、续租（扩租、缩租、换租这些如何标记？）
录入系统中的合同开始日和结束日的周期需要包含免租期在内。
可以提前配置合同表单模板，以简化合同录入流程。
合同账单提前或延后付款的天数是基于账单周期开始日为基准计算。
操作流程：
基本信息页：选择所属公司，跟进人，租赁房源（按楼宇-楼层-房号依次选择），租客信息（若无选项，可点击下拉项底部新建租客跳转新窗口后新建），合同模版，合同编号，合同签订日、开始日、结束日。
费用条款页：在右上角点击“+条款”，按需选择自己需要的条款类型。
保证金：按合同约定情况输入数字
 递增：点击右侧“+递增条款”按钮，批量递增适用于定期递增递增比例固定的形式;单条递增适用于递增周期或递增比例不固定的形式。
优惠条款：点击右侧“+优惠条款”按钮
免租期与装修期：需填写期限开始日和结束日，并选择是否划入租期，默认为划入租期。
单价折扣、减免金额、金额减免：需输入减免开始的账单期数与持续的期数，并输入减免的数字即可
生成租金明细：需要在页面底部点击“点击生成租金明细”按钮，即可按上述填写内容生成最终的账单明细，生成后可对生成信息的费用周期，单价，每期的金额进行核对。如有问题，可以再次检查上述条款录入是否正确，修改后重新生成或者点击租金明细报表右上角“编辑”，修改账单。若核实无误，则右下角点击下一步。
合同文本页：
选择合同打印模板，点击生成合同文本（标识①处），生成后，可点击编辑（标识②处）对生产的文本进行修改。
点击编辑按钮后进入在线编辑页面，编辑好后需在页面进行保存（下图标识③处），并在页面提示保存成功（下图标识④）之后关闭页面（下图标识⑤），等待系统保存完成后再进行提交（标识⑥处转圈动画停止后即为改动保存完毕）。
录入合同时若有其他文件需要上传，例如支付定金的凭证，租户方公司的营业执照，租户个人的身份证复印件等信息，可上传至附件信息位置，在后续审批中也可进行查看。
上传完毕后点击白色保存按钮即存为草稿，后续支持多次修改再提交审批。若点击蓝色的保存&发起审批按钮则会发起合同新建审批流程，待合同审批完成，该合同生效，对系统内各项数据产生相关影响。
变更合同
定义：在合同执行一段时间后，后续的相关合同内容发生改变，如临时增加的优惠、免租期、租客转租合同沿用、付款周期发生变更等等情况。
操作注意事项：
商业条款变更前，请把原合同至变更生效日为止的账单费用结清后再进行操作。商业条款变更时，保证金部分要正常填写，不能写0。 
操作流程
选择变更类型：
修改原合同：适用于所有发生合同改变的场景，一般建议租客变动或者合同期延长等对账单无影响的调整。如涉及到款项变更，需要重新手动修改租金明细报表。
商业条款变更：需选择变更生效日期，适用于需要更新账单金额的变更，例如原合同期有增加减少，或者原签约房间需扩租减租等情况下。变更完成后从以变更生效日为界拆分成两份合同。
基本信息变更：适用于修改合同标签和自定义字段的值。
基本信息页：商业条款变更需填入合同到期日，开始日默认为变更生效日无法修改。
费用条款页：保证金需正常填写不能为0，生成账单明细。
合同文本页：选择合同模板，点击生成文本。
变更退租页：对原合同已生成的账单的核销情况进行统计，生成待收款或待退款金额，若原合同截止变更生效日费用已结清，则此处只会显示保证金待退款。
点击保存&提交审批，待审批流程通过后变更生效。 

续租合同
定义：在合同末期，与租户联系确定续租时，系统中操作续租流程。
操作位置：从合同列表中点击合同进入详情页，右上角点击“续租”按钮。 
操作注意事项：
租前原合同的收款费用要进行结清；
续租时保证金条款要正常录入，金额不能为0；
续租后要进行保证金结转；
操作流程：
点击续租按钮后，基本信息页，填写结束日日期。此处的开始日默认为原合同结束日的后一天。
费用条款页：根据续租情况修改单价，点击底部生成租金明细。
合同文本页：选择模板，生成合同文本。
续租退租页：这里对原合同的历史账单进行确认，若历史账单都已核销完毕，则此处只显示保证金的退款信息，待后续进行结转。
点击保存和发起审批，待审批流程完毕后续租生效。

退租合同
定义：在合同即将到期租户确定不再续租或因其他原因需中途退租时，在系统中操作退租将合同终止。
操作位置：从合同列表中点击合同进入详情页，右上角点击“退租”按钮
操作注意事项：
退租要有必选项，退租类型：正常到期或违约。
退租前需把历史账单核销完毕
退租时，中途退租的情况务必修改退租日。
退租后，有保证金不退的情况时需操作结转。
操作流程：
合同详情页右上角点击“退租” 
填写退租日期：到期退租不用修改，若为中途退租则请务必修改退租日期。
历史账单部分：核实所有账单的应收金额
其他费用部分：退租时有其他费用产生的，点击“+费用”-“收款”按钮，填写费用类型，周期，金额等，例如因退租产生的违约金，房间清洁费，家具维修费等。
退租原因：勾选租客退租原因，原因可自定义
点击下一步，选择退租协议模板，生成退租协议文本
点击保存&发起审批，待审批通过后退租生效
合同结转
定义：在合同发生续租，退租，变更操作后，会同时出现收款账单和退款账单，在不产生新流水的情况下，可以将收款和退款金额进行抵冲，达到平账目的。
操作位置：进入合同详情，右上角点击“结转”按钮
操作注意事项：
结转动作涉及到的账单及合同如有在审核流程中的，结转无法操作，需先完成或者撤回相关审核流程。
结转的两个账单中，必须有一方为合同账单，两个自建账单之间不能进行结转。
结转不产生新的流水，结转结清的账单是无法开具收据的。
操作流程：
合同详情点击“结转”按钮
根据区间，费用类型找到需要结转抵冲的账单
点击该账单后面的“结转”按钮
在弹出窗口中勾选结转来源的账单，点击保存
有其他账单需结转的可在页面中继续操作结转，最后页面底部点击保存&发起审批，待审批通过后结转生效。
合同列表
定义：常规合同、归档合同以及草稿合同支持表单形式展示以及导出。
操作位置：合同管理模块
操作注意事项：
合同列表中收录的合同仅正常执行的对后续数据产生影响，所有修改中、审批中以及到期未处理的合同对数据均无影响。
合同列表导出功能建议从权限上做相关限制，从数据安全角度考虑，无需给到每一个人导出权限。
操作步骤：
列表展示顺序：列表右上角点击列表自定义-点击未蓝色可展示-拖拽蓝色字段可进行排序。
合同列表或优惠合同汇总导出
其他操作
归档合同
定义：在合同已办理退租并到达退租日之后，将进入归档合同列表
操作位置：左侧菜单点击合同管理-归档合同按钮
操作注意事项：
到期未处理的合同不计入归档合同
办理退租后未到退租日的合同不计入归档合同
归档合同如进行作废处理，会移除归档合同
草稿合同
定义：新建合同时，若不直接发起审批，可将合同存为草稿，后续支持继续编辑和提交审批。
操作位置：新建合同-合同文本页底部，点击白色“保存”按钮，左侧菜单合同管理-草稿合同
合同状态
定义：用于区分合同的执行情况。
操作位置：合同列表中表头展示，若没有可以在列表右上角的三个点中开启展示合同状态
注意事项：合同状态是根据系统操作自动变更的，不能手动修改状态
合同筛选
定义：需求展示符合某个规则的合同
操作位置：左侧菜单合同列表以及归档合同
注意事项：快捷筛选器仅对个人账号产生影响。
操作步骤：
列表右上角-展开-设置-勾选自己需要的筛选维度
按需筛选相关信息
如需经常查看该种维度的数据可以设置为快捷筛选项，每次进入到系统中，点击该项即可查看相关数据。
如需每次进入合同列表时展示该维度数据，可以设置为默认快捷筛选。
如需调整筛选器顺序或者删除，可以在图示位置处理。

合同相关算法   
计费方式：
计租方式：按业务计租方式选择租金或分成模式，分成模式需设置比例，在合同生成后定期填写营业额用以生成应收金额。
合同单价：输入金额数字并选择对应单位。
付款时间：设置提前或延后天数。
计费类型：按实际天数计费即每月金额根据天数的不同而不同;按月计费即每月金额相等。
非整自然月计算方式：按月计费时，若出现非整自然月，则可选择非整自然月按月单价计算还是按天单价计算
 按天单价计费：非整自然月应收 = 天单价 x 实际天数 x 面积 = 天单价 x 面积 x 实际天数
 按月单价计费：非整自然月应收 = 月单价 / 当月总计天数 x 当月计租天数 x 面积 = 月单价 x 面积 / 当月总计天数 x 当月计租天数
天单价换算规则：常用选项按自然月换算，该选项会影响租期中出现非整月的情况下的天价格计算。
在录入合同时，当选择的合同单价为“元/月”，元/㎡·月 或者“元/工位·月”时，会出现天单价换算。
按年换算的 天单价 = (月单价 x 12)/365   
比如，月单价为3000元，年天数为365天，那么天单价=（3000 x 12） / 365。
付款周期：根据合同约定情况输入数字即可。
租期划分方式：
例如：签订合同，合同周期从2020.05.25--2021.05.24
按起始日划分
即按照【合同计租时间】的起始日开始划分租期，根据所选【付款周期】决定租期长短。线上常用方式为此，对应3月一付，那么各付款期为
  ①/2020.05.25-2020.08.24/         
  ②/2020.08.25-2020.11.24/
  ③/2020.11.25-2021.02.24/          
  ④/2021.02.25-2021.05.24/
各单价单位的换算规则
（元/天）= （元/月）x 12/年天数
（元/m2·天）= （元/m2·月）x 12/年天数
（元/工位·天）= （元/工位·月）x 12/年天数
（元/m2·月）= (（元/m2·天）x 年天数) / 12
（元/月）= (（元/天）x 年天数) / 12
（元/工位·月）= (（元/工位·天）x 年天数) / 12
（元/m2·天）= （元/天）/ 面积
（元/工位·天）= （元/天）/ 工位
（元/工位·月）= （元/月）/ 工位
（元/m2·月）= （元/月）/ 面积
（元/天）=（元/m2·天) x 面积
（元/天）=（元/工位·天）x 工位
（元/月）=（元/工位·月）x 工位
（元/月）= （元/m2·月）x 面积
（元/工位·天）= （元/月）x 12 /（工位 x 年天数）
（元/m2·天）= （元/月）x 12 /（面积 x 年天数）
（元/月）=（元/工位·天）x（工位 x 年天数）/ 12
（元/月）=（元/m2·天）x（面积 x 年天数）/ 12
（元/工位·月）= （元/天）x 年天数/（工位 x 12）
（元/m2·月）= （元/天）x 年天数/（面积 x 12）
（元/天）= （元/工位·月）x（工位 x 12）/ 年天数
（元/天）= （元/m2·月）x（面积 x 12）/ 年天数
（元/天）=（元/年）/年天数
（元/平方米*天）=（元/年）/面积/年天数
（元/月）=（元/年）/12
（元/平方米*月）=（元/年）/面积/12

四、财务管理模块（优先级--1）
收付款管理包括：查看账单、新建账单、编辑账单、开启/关闭账单、一键结清、删除账单、生成通知单、匹配流水、解除流水匹配、核销审批、核销审批流程设置、新增调整、删除调整、调整审批、调整审批流程设置、账单报表导出、应收帐款分析报表导出、查看账单附件、上传账单附件、下载账单附件、删除账单附件、结转、结转审批、结转审批流程设置、查看退租记录、查看收支流水、新建收支流水、编辑收支流水、关闭收支流水、匹配账单、解除匹配账单、收支流水报表导出、资金报表导出、查看流水附件、上传流水附件、下载流水附件、删除流水附件等

租金账单管理:
租金账单生成服务：自动产生租金账单。
租金支付处理服务：管理租金收取流程。
所有账单
账单列表
账单列表包括需要收/付款的各种费用类型的账单
支持按租客名称、房号、合同编号搜索账单
可快捷筛选本期未结清账单、逾期未结清账单、自建未结清账单
顶端数据可切换查看收/付款账单的应收/退、滞纳金、实收/退、调整、结转、需付/退
添加账单：可以新建账单，包括收款账单、付款账单、批量添加收款账单、批量添加付款账单
填写账单信息：基本信息包括：房号（选择房源）、关联合同、付款方、费用类型、计费周期、应收金额等
单个新建收款账单、付款账单，可勾选是否同时“添加收支流水”
添加账单后，根据应收时间将会提醒在账单列表中
统计报表导出：统计自定义区间内的应收、实收情况，以及未来部分区间的应收金额
显示关闭账单：勾选后列表会显示已关闭的账单
支持列表自定义、报表导出、列表自定义、月报表导出、月度收款明细
筛选项：账单类型、费用类型、开始时间、结束时间、应收时间、逾期状态、结清状态、币种、滞纳金金额（应收）、开票状态、开票记录状态、开具收据次数、最新入帐时间、合同是否作废、创建时间
排序项：房号、对方名称、开始时间、结束时间、应收时间、账单金额、需收/退金额、已开票金额、开票记录金额、最新入帐时间
在列表中勾选一个或多个账单后，可快捷开票、开具收据、生成通知单、开启/关闭账单、一键结清、批量解除流水等操作：
生成发票信息
可勾选相同或不同费用类型的账单进行开票，但必须已设置相应费用类型的税率信息，税率信息可在设置中心的收付款管理的发票管理中设置
可勾选相同或不同合同的账单进行批量开票
若勾选的多个账单是同一租客，则可进行合同开票
若拥有预开票权限，则开票金额上限为调整后的账单应收金额
若没有预开票，则开票上限为实收金额（包括结转金额）
开具收据
需勾选有实收金额的账单才可开具收据
开具收据成功后，会保存至收据记录中
生成通知单
第一步：基础设置
需选择生成方式：逐张账单生成、按租客生成、租客下按房源生成
逐张生成通知单：一个账单生成一个通知单
按租客生成通知单：对相同租客的账单进行合并生成通知单
租客下按房源生成：对相同租客的账单根据房源生成通知单
需选择通知方式：短信通知、邮件通知、下载打印
至少需勾选一种通知方式，可同时选择多种通知方式。
注：当选择短信或邮件通知时，若账单比较多的时候，请尽量避免选择逐张账单生成，以免造成短信、邮件延发、漏发的情况。
需选择通知单生成时间
仅作用于打印模版的关键字打印。
打印模版可在设置中心——收付款管理——通知单模版中进行配置。 
第二步：选择租客联系人
当第一步中勾选了短信通知或邮件通知时，进入此步骤。
需为当前勾选的账单的每一个租客指定一个租客联系人。
租客联系人可在租客管理——租客联系人中进行添加/修改。
默认展示设置为默认联系人的联系人，可手动修改其他联系人。
仅可在绑定目标租客的租客联系人中选择修改
同步展示联系人的手机、邮箱
若当前租客没有租客联系人，则展示空。 
第三步：选择打印模版
展示当前所有打印模版，仅可勾选一个。
生成通知单时将通过选择的模版生成word文件。
第四步：完成
若勾选了短信通知或邮件通知时，完成时提示成功发送短信和邮件的数量
若勾选了下载打印，完成时，可操作预览打印模版、可操作下载文件
预览
可预览填充关键字后的通知单，可在线打印。
下载
可将通知单word文件下载到本地，可手动修改、打印。 
开启/关闭账单
应收/付金额为0的账单允许关闭
已关闭的账单可以重新开启
一键结清
勾选部分结清/未付款的账单进行一键新建匹配流水操作
解除流水
勾选部分结清/已结清的账单进行一键解除匹配流水操作
新建批量调整
新建调整
调整类型
坏账、调增、调减、疫情减免
调整时间
调整方式
按金额调整：调整金额】为数字输入框
按比例调整：调整金额】为百分比输入框，且后面展示按照输入的百分比计算出的调整金额，调整金额=账单应收/付金额*调整比例
备注
调整限制条件
填写的调整金额不能为负数
不同状态限制
收款账单需收状态下
调增：无限制
调减：本次调整金额≥发起调整前的账单需收金额（即本次调整之后的需收金额不能小于0）
收款账单需退状态下
调增：无限制
调减：不能调减
付款账单需付状态下
调增：无限制
调减：本次调整金额≥发起调整前的账单需付金额（即本次调整之后的需付金额不能小于0）
付款账单需收状态下
调增：无限制
调减：不能调减
调整审批
批量调整可以走审批流程 
账单详情
点击账单进入账单详情可查看账单具体信息
账单详情页操作：
附件：可用于查看已上传的附件或上传附件
备注：可以添加账单备注信息
收款/付款：新增/匹配收支流水，可以取消匹配，展示收支流水信息，点击查看收支流水详情，可以勾选显示取消匹配的流水
结转：点击查看结转详情
收据记录：开具收据，展示收据信息，点击查看收据详情
开票记录：开具发票，展示发票信息，点击查看开票记录详情
调整：新增调整，分为调增、调减、坏账，可以作废调整，展示调整信息，可以勾选显示作废的调整
开启/关闭账单：应收/付金额为0的账单允许关闭，已关闭的账单可以重新开启
收取滞纳金：收取滞纳金，会增加账单的应收金额；滞纳金实收后，会增加开票金额
操作记录：查看关于此账单的操作记录，不包括开发票、通知单等
费用算法：
收付款
所有账单
统计收款时：
应收账单数量是列表中，所有账单状态为（未付款、部分结清）的账单数量之和；应收总额是账单列表中，所有账单状态为（未付款、部分结清）的账单应收金额之和。
滞纳金：账单列表中，所有需要收取的滞纳金金额之和
实收：账单列表中，所有账单匹配的流水金额之和
调整：账单列表中，所有账单设置的调整金额之和（+为总金额调减，-为总金额调增）
转入：账单列表中，所有账单结转（只计算转入）金额之和
需收：账单列表中，所有账单的需收金额之和
应收 + 滞纳金 = 实收 + 调整 + 转入 + 需收
统计付款时：
应退：账单列表中，所有账单状态为（未付款、部分结清）的账单数量之和
收入列表
当月计划收入含税
定位当月计划收入（含税）金额求和
当月计划收入不含税
定位当月计划收入（不含税）金额求和
当月确认收入
定位当月已确认收入金额求和
当月待确认收入
定位当月待确认收入金额求和
五、数据分析和报告模块（优先级--1）
用于收集和分析租赁数据，生成报告供业务决策支持。
数据收集：
数据汇总服务：使用Pandas或其他库导入您的运营数据。收集各模块的数据。
数据清洗服务：处理缺失值，异常值，重复值等。确保数据的质量。
特征工程: 根据运营指标，确定相关的特征和可能需要的转换。
AI功能：根据提示词自动收集数据生成报表。
数据报表：
合同列表数据、收缴列表数据、空置列表数据、租赁价格数据、自定义报表数据等
报告生成：
分析服务：进行数据分析。
报告服务：生成可视化报告。
